<!DOCTYPE html>
<html lang="en">
<head>
<title>Happa Ceramics</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
    <!--Tab Icon--> 
<link rel="icon" href="pics/logo.jpg" sizes="16x16 32x32" type="image/png">  
    <!--Font Awesome: for icons--> 
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">    
    <!--Bootstrap CSS--> 
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
<link rel="stylesheet" href="style.css"> 
    <!--Font Family CSS-->
<link href="https://fonts.googleapis.com/css?family=Allerta+Stencil|Bungee+Hairline|Bungee+Shade|Codystar|Fredericka+the+Great|Geo|Gruppo|Libre+Barcode+39+Extended+Text|Libre+Barcode+39+Text|Marvel|Monofett|Pavanam|Raleway+Dots|Six+Caps|Text+Me+One|Unica+One|VT323" rel="stylesheet">
    <!--Java Script JS-->    
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>
<body>

    
<!--NAVIGATION MENU-->
<nav class="navbar sticky-top bg-whitesmoke"><!--navbar-expand-xs-->
<a class="mx-auto link-no-deco align-center" href="index.html" ><h2 class="text-me-one">HAPPA CERAMICS</h2></a><!-- buvo: navbar-brand-->
     
<!--SHOPPING CART BUTTON-->
<button id="shoppingCartButton" type="button">
    <a href="cart.html" class="link-no-deco">
<i class="fa fa-shopping-bag">
<p id="count-cart" class="text-me-one"><!--...--></p>
</i>  
</a>  
</button> 
    
<!--MENU BUTTON-->
<button id="menuButton" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#happa-menu-button" aria-controls="happa-menu-button" aria-expanded="false" aria-label="Toggle navigation">
    <span class="button-bar"></span><br>
    <span class="button-bar"></span><br>
    <span class="button-bar"></span>  
</button> 
    
    <!--MENU LIST-->
<div class="collapse navbar-collapse" id="happa-menu-button">
<ul class="happa-menu-bruksnys nav nav-menu align-center text-me-one  justify-content-center flex-column">          
    <div class="row"> 
<a class="col-sm-3 nav-menu-item menu-item-1 dropdown-toggle link-no-deco" data-toggle="dropdown" href="shop.html">SHOP</a>
            <!--DROPDOWN-->
    <div class="dropdown-menu sticky-bottom happa-dropdown" aria-labelledby="navbarDropdown">
    <a class="dropdown-item link-no-deco text-me-one happa-dropdown-item" href="shop.html">ALL PRODUCTS</a><hr>
    <a class="dropdown-item link-no-deco text-me-one happa-dropdown-item" href="shop.html" style="font-size: 14 px">SOAP HOLDERS</a>
    <a class="dropdown-item link-no-deco text-me-one happa-dropdown-item" href="shop.html#shop-bowls" style="font-size: 14 px">BOWLS</a>
    <a class="dropdown-item link-no-deco text-me-one happa-dropdown-item" href="shop.html#shop-cups" style="font-size: 14 px">CUPS</a>
    </div>    
<a class="col-sm-3 nav-menu-item menu-item-2 link-no-deco" href="index.html#happa-about">ABOUT</a>
<a class="col-sm-3 nav-menu-item menu-item-3 link-no-deco" href="index.html#happa-contacts">CONTACT</a>   
<a class="col-sm-3 nav-menu-item menu-item-4 link-no-deco" href="cart.html">BAG&nbsp;<p style="display:inline" id="count-cart2" class="text-me-one"><!--...--></p></a>
    </div>
</ul> 
 </div>   
    </nav>


    
<div class="container"> <!--CONTENT container OPENS-->   
    

<br><br>
    
<!--SHOP ITEM opens-->
<div class="row">
    
<!--CAROUSEL opens-->
<div class="col-md-6">
    
<div id="myCarousel" class="carousel slide" data-ride="carousel">
<!--Indicators - (tie takuciai)-->
<ul class="carousel-indicators">
    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>  <!--cia tik active is situ reikalingas, kitus jei istrini nieko nekeicia-->
    <li data-target="#myCarousel" data-slide-to="1"></li>
    <li data-target="#myCarousel" data-slide-to="2"></li>
    <li data-target="#myCarousel" data-slide-to="3"></li>
</ul>
    
<!--The slideshow-->
<div class="carousel-inner">
    <div class="carousel-item active">
        <img src="pics/soapHolder2.jpg" alt="#" onclick="openModal();currentSlide(1)">
    </div>
    <div class="carousel-item">
        <img src="pics/soapHolder1.jpg" alt="#">
    </div>
    <div class="carousel-item">
        <img src="pics/soapHolder3.jpg" alt="#">
    </div>
    <div class="carousel-item">
        <img src="pics/soapHolder4.jpg" alt="#">
    </div>
</div>
    
<!--Left and right controls-->
    <a class="carousel-control-prev" href="#myCarousel" data-slide="prev">
      <span class="carousel-control-prev-icon"></span>
    </a>
    <a class="carousel-control-next" href="#myCarousel"  data-slide="next">
      <span class="carousel-control-next-icon"></span>
    </a>
</div>
        <br><br>
<!--Small IMGS under the main IMG-->
<div class="row">
    <div class="col-3">
            <!--istryniau class="active" -->
        <img data-target="#myCarousel" data-slide-to="0" class="img-gallery-shop" src="pics/soapHolder2.jpg" style="width:100%;" alt="#">
    </div>
    <div class="col-3">
        <img data-target="#myCarousel" data-slide-to="1" class="img-gallery-shop" src="pics/soapHolder1.jpg" style="width:100%;" alt="#">
    </div>  
    <div class="col-3">
        <img data-target="#myCarousel" data-slide-to="2"class="img-gallery-shop" src="pics/soapHolder3.jpg" style="width:100%;" alt="#">
    </div>
    <div class="col-3">
        <img data-target="#myCarousel" data-slide-to="3" class="img-gallery-shop" src="pics/soapHolder4.jpg" style="width:100%;" alt="#">
    </div>    
</div>

    <br><br>
</div>    
<!--CAROUSEL closes-->
        
    
<!--ITEM DESCRIPTION opens-->
<div class="col-md-6">
     <h3 class="marvel all-caps">Yellow Soap Holder</h3>
        <br>
     <p class="marvel text-justify">HAND BUILT FOOTED STONEWARE BOWL. FOOD SAFE. MADE IN LT. DUE TO THE HANDMADE NATURE OF THESE SOAP HOLDERS, EACH PIECE VARIES SLIGHTLY. 3" x 4" DIAMETER.</p> 
     <p class="marvel" style="font-size:20px">$11.50</p><br><br>
    
    
<!--BUTTON: BUY NOW + REDIRECT-->    
<button class="happa-buy-now button-happa text-me-one link-no-deco float-right" 
    data-img="pics/soapholder2.jpg" 
    data-name="Yellow Soap Holder"
    data-price="11.50">Buy Now</button>  
        <br><br><br>
    
<!--BUTTON: ADD TO BAG  + ALERT + MESSAGE-->      
<button class="add-to-cart button-happa text-me-one link-no-deco float-right" 
    data-img="pics/soapholder2.jpg" 
    data-name="Yellow Soap Holder"
    data-price="11.50">Add To Bag</button>

    
<!--ALLERT MESSAGE onclick-->
<h5 id="happa-message"></h5>     
    <br><br><br><br><br><br>
<a href="cart.html" class="button-happa link-no-deco float-right">Go To Shopping Bag</a>  

                        
    
</div><br><br><br><!--ITEM DESCRIPTION closes-->
 
</div><!--SHOP ITEM closes--> 
    
              
    <hr>
<p class="text-me-one">Copyright &copy; 2018, Happa Ceramics</p><br>      

</div><!--CONTENT container closes-->
    
    
    
    
    
<!--SCRIPT opens-->  
<script type="text/javascript" src="cart-functions.js"></script>    
<script>
//dont export: 1.jquery(dependency)  2.page-atrr-related code    
    
// NAV MENU TOOGLE:
$(document).ready(function () {
    $(document).click(function (event) {
        var clickover = $(event.target);
        var _opened = $(".navbar-collapse").hasClass("show");
        if (_opened === true && !clickover.hasClass("navbar-toggler")) {
            $(".navbar-toggler").click();
        }
    });
}); 
    
    
displayCart();  //PRIDEJAU, nes kai: refresh -> nerodo cart
    
 
//1. js faile yra funkcija: addItemToCart
//2. cia html yra jQuery trigeris susietas su class .add-to-cart ir kita data
//sito reikia kad imestu i cart visus OBJ (ARRAY)    
   
    
//BUY NOW + REDIRECT:   
     $(".happa-buy-now").click(function(){
        event.preventDefault();
        var name = $(this).attr("data-name");
        var img = $(this).attr("data-img");
        var price = Number($(this).attr("data-price")); // ! not a STRING
        happaCart.addItemToCart(img, name, price, 1);
        displayCart();
            $(location).attr('href', 'cart.html'); // redirect, as pridejau
    });   
    
    
    
happaCart.addToCartMessage = function(){
    document.getElementById("happa-message").innerHTML = "<div class='border' style='padding:15px; background-color:whitesmoke;' class='test'><strong>Well done! &nbsp;</strong> Item was successfully added to Bag! </div>";
        $("#happa-message").delay(3333).fadeOut();  
  //  location.reload();
};


    
//ADD TO CART + ALERT MESSAGE + MESSAGE to HTML:   
    $(".add-to-cart").click(function(){
        event.preventDefault();
        var name = $(this).attr("data-name");
        var img = $(this).attr("data-img");
        var price = Number($(this).attr("data-price")); // ! not a STRING
        happaCart.addItemToCart(img, name, price, 1);
        displayCart();
        happaCart.addToCartMessage();
    });  

    
//////////////////////////////////////////////////////////   
    
    $("#clear-cart").click(function(event){
        happaCart.clearCart();
        displayCart();
    });                 
    
    function displayCart(){
        var cartArray = happaCart.listCart();
        var output = "";
        for (var i in cartArray) {
            output += "<tr>" 
                + "<th class='c1 d-none d-sm-block'><a href='index.html'><img style='width:150px;' src='" + cartArray[i].img + "'></a></th>" 
                + "<th class='c2'>" + cartArray[i].name + "<br><br>" + "<button class='remove-btn' data-name='" + cartArray[i].name + "'>REMOVE</button>" + "</th>" 
            
                + "<th class='c3'>" + cartArray[i].price + "</th>" 
                + "<th class='c4'>"    //  + cartArray[i].count + " "
                + "<input class='item-input' type='number' min='1' max='5' data-name='"+cartArray[i].name+"' value='"+cartArray[i].count+"'>" 
                + "</th>" 
                
                + "<th class='c5'>" + cartArray[i].total + "</th>"
               
                    /* + "<th>"
                + "<button class='add-btn' data-name='"
                +cartArray[i].name+"'>+</button>"
            
                + "<button class='subtract-btn' data-name='"
                +cartArray[i].name+"'>-</button>"
            
                
                    + "</th>"  */
            
                + "</tr>"   
        }
        $("#show-cart").html(output);
        $("#count-cart").html( happaCart.countCart() );
        $("#total-cart").html( happaCart.totalCart() );
        $("#count-cart2").html( happaCart.countCart() );  //parasyt funkcija, kad nerodytu 0

    }
    
    $("#show-cart").on("click", ".remove-btn", function(event){
        var name = $(this).attr("data-name");
        happaCart.removeItemFromCartAll(name);
        displayCart();
    });
    
    $("#show-cart").on("click", ".subtract-btn", function(event){
        var name = $(this).attr("data-name");
        happaCart.removeItemFromCart(name);
        displayCart();
    });
    
    $("#show-cart").on("click", ".add-btn", function(event){
        var name = $(this).attr("data-name");
        var img = $(this).attr("data-img");        //PRIDEJAU
        happaCart.addItemToCart(img, name, 0, 1);
        displayCart();
    });    
    
    $("#show-cart").on("change", ".item-input", function(event){
        var name = $(this).attr("data-name");
        var count = Number($(this).val());    // ! not a STRING
        happaCart.setCountForItem(name, count);
        displayCart();
    });
    
    
    
    
    
</script><!--SCRIPT closes--> 
</body>
</html>
